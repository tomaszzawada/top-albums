(this["webpackJsonptop-albums"]=this["webpackJsonptop-albums"]||[]).push([[0],{33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),s=a(6),o=a(8),i=(a(38),function(){return l.a.createElement("nav",{className:"navbar navbar-light bg-light"},l.a.createElement(s.b,{to:"/"},l.a.createElement("span",{className:"navbar-brand mb-0 h1"},"TopAlbums")))}),m=function(){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-4"},"Top 100 Albums"),l.a.createElement("p",{className:"lead"},"Check out our top 100 albums in the US.")))},u=a(10),p=a(11),h=a(13),b=a(12),d=a(14),f=a(7),g=a.n(f),v=(a(61),function(e){var t=e.id,a=e.title,n=e.artist,r=e.image;return l.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6"},l.a.createElement(s.b,{to:"/"+t},l.a.createElement("div",{className:"album card my-3 justify-content-between"},l.a.createElement("img",{src:r,className:"card-img-top",alt:""}),l.a.createElement("div",{className:"text-center pb-3"},l.a.createElement("h5",{className:"card-title"},a),l.a.createElement("p",{className:"card-text"},n)))))}),E=function(e){for(var t=e.albumsPerPage,a=e.totalAlbums,n=e.paginate,r=[],c=1;c<=Math.ceil(a/t);c++)r.push(c);return l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("nav",null,l.a.createElement("ul",{className:"pagination flex-wrap"},r.map((function(e){return l.a.createElement("li",{key:e,className:"page-item"},l.a.createElement("a",{onClick:function(){return n(e)},href:"/#",className:"page-link"},e))})))))},y=a(32),N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={categories:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://itunes.apple.com/us/rss/topalbums/limit=100/json").then((function(t){var a=t.data.feed.entry.map((function(e){return e.category.attributes.label.toLowerCase()})),n=Object(y.a)(new Set(a));e.setState({categories:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Categories")),l.a.createElement("select",{value:this.props.category,onChange:this.props.handleCategory,className:"custom-select",id:"inputGroupSelect01"},l.a.createElement("option",{value:"All"},"All"),this.state.categories.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))))}}]),t}(n.Component),j=(a(62),function(e){return l.a.createElement("form",{className:"form-inline",autoComplete:"off"},l.a.createElement("input",{className:"form-control mr-sm-2",type:"search",name:"search",placeholder:"Search","aria-label":"Search",onKeyUp:e.handleSearch}))}),w=(a(63),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={albums:[],currentPage:1,albumsPerPage:8,category:"all",query:""},a.fetchResults=function(){""===a.state.query&&"all"===a.state.category?g.a.get("https://itunes.apple.com/us/rss/topalbums/limit=100/json").then((function(e){a.setState({albums:e.data.feed.entry,currentPage:1})})).catch((function(e){return console.log(e)})):""!==a.state.query&&"all"===a.state.category?g.a.get("https://itunes.apple.com/us/rss/topalbums/limit=100/json").then((function(e){var t=e.data.feed.entry.filter((function(e){return e.title.label.toLowerCase().includes(a.state.query)}));a.setState({albums:t,currentPage:1})})):g.a.get("https://itunes.apple.com/us/rss/topalbums/limit=100/json").then((function(e){var t=e.data.feed.entry.filter((function(e){return e.title.label.toLowerCase().includes(a.state.query)&&e.category.attributes.label.toLowerCase()===a.state.category}));a.setState({albums:t,currentPage:1})}))},a.paginate=function(e){a.setState({currentPage:e})},a.handleCategory=function(e){var t=e.target.value.toLowerCase();a.setState({category:t},(function(){return a.fetchResults()}))},a.handleSearch=function(e){var t=e.target.value.toLowerCase();a.setState({query:t},(function(){return a.fetchResults()}))},a.showAll=function(){a.setState({category:"all",query:""},(function(){a.fetchResults()}))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchResults()}},{key:"render",value:function(){var e=this.state,t=e.albums,a=e.currentPage,n=e.albumsPerPage,r=e.category,c=a*n,s=c-n,o=t.slice(s,c),i=o.length?o.map((function(e){return l.a.createElement(v,{key:e.id.attributes["im:id"],id:e.id.attributes["im:id"],title:e["im:name"].label,artist:e["im:artist"].label,image:e["im:image"][2].label})})):l.a.createElement("div",null,l.a.createElement("div",{className:"no-albums center"},"No albums found"));return l.a.createElement("section",{className:"albums"},l.a.createElement("div",{className:"container my-5"},l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-2 my-1"},l.a.createElement("button",{onClick:this.showAll,className:"btn btn-outline-dark float-right"},"Reset filters")),l.a.createElement("div",{className:"col-md-5 my-1"},l.a.createElement(N,{albums:t,category:r,handleCategory:this.handleCategory})),l.a.createElement("div",{className:"col-md-5 my-1"},l.a.createElement(j,{handleSearch:this.handleSearch}))),l.a.createElement(E,{albumsPerPage:n,totalAlbums:t.length,paginate:this.paginate}),l.a.createElement("div",{className:"row"},i)))}}]),t}(n.Component)),k=function(){return l.a.createElement("div",null,l.a.createElement(m,null),l.a.createElement(w,null))},C=(a(64),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).state={album:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.album_id;g.a.get("https://itunes.apple.com/us/rss/topalbums/limit=100/json").then((function(a){var n=a.data.feed.entry.filter((function(e){return e.id.attributes["im:id"]===t}));e.setState({album:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.album,t=e.length?l.a.createElement("div",{className:"card my-3"},l.a.createElement("img",{src:e[0]["im:image"][2].label,className:"card-img-top",alt:""}),l.a.createElement("h5",{className:"card-title"},e[0]["im:name"].label),l.a.createElement("p",{className:"card-text"},e[0]["im:artist"].label)):l.a.createElement("div",null," No albums found ");return l.a.createElement("div",{className:"container-fluid album-page"},l.a.createElement("h2",{className:"text-center py-5"},"Album Details"),t,l.a.createElement(s.b,{to:"/"},l.a.createElement("button",{className:"btn btn-outline-dark"},"go back")))}}]),t}(n.Component));var S=function(){return l.a.createElement(s.a,{basename:"/"},l.a.createElement("div",{className:"App"},l.a.createElement(i,null),l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:k}),l.a.createElement(o.a,{path:"/:album_id",component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.2d7201ad.chunk.js.map